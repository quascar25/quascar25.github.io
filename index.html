<!DOCTYPE html>
<html>
<head>
    <title>Grok_1С8.3</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
        }
        #question {
            width: 300px;
            padding: 10px;
        }
        #askButton {
            padding: 10px 20px;
            margin-left: 10px;
        }
        #answer {
            margin-top: 20px;
            font-size: 18px;
        }
    </style>
</head>
<body>
    <h1>Grok_1С8.3</h1>
    <input type="text" id="question" placeholder="Вопрос по 1С 8.3">
    <button id="askButton">Спросить</button>
    <div id="answer">Ответ появится здесь</div>

    <script>
const knowledgeBase = {
    "запрос": "Объект в 1С для получения данных из базы. Используется для выборки, фильтрации и сортировки информации.",
    "выбрать": "Оператор запроса, который извлекает данные из источника. Указывает, какие поля нужно получить.",
    "из": "Оператор, указывающий источник данных для запроса. Например, таблицу или регистр.",
    "где": "Оператор для фильтрации данных в запросе. Устанавливает условия выборки.",
    "группировать по": "Оператор для объединения данных по группам. Используется с агрегатными функциями вроде суммы.",
    "итоги": "Оператор для подсчёта итогов в запросе. Позволяет группировать данные и считать суммы или количество.",
    "порядок": "Оператор для сортировки результатов запроса. Указывает, как упорядочить данные (например, по возрастанию).",
    "в": "Оператор для проверки вхождения значения в список. Используется в условиях фильтрации.",
    "как": "Оператор для задания псевдонима поля или таблицы. Упрощает чтение запроса.",
    "источник данных": "Объект, из которого запрос берёт данные. Например, справочник или регистр.",
    "виртуальная таблица": "Таблица в СУБД для получения остатков и оборотов. Формируется из данных автоматически.",
    "обычное поле": "Поле таблицы, хранящее данные напрямую. Не вычисляется, в отличие от виртуальных.",
    "cast": "Функция для изменения типа данных в запросе. Например, преобразует число в строку.",
    "case": "Оператор для выбора значения по условиям. Работает как условный оператор в запросе.",
    "null": "Значение, обозначающее отсутствие данных. Используется для проверки пустых полей.",
    "is null": "Проверка, пустое ли поле в запросе. Возвращает true, если данных нет.",
    "count": "Функция для подсчёта количества записей. Используется в группировках.",
    "sum": "Функция для подсчёта суммы значений поля. Применяется к числовым данным.",
    "max": "Функция для поиска максимального значения. Работает с числами или датами.",
    "min": "Функция для поиска минимального значения. Применяется к любым сравнимым данным.",
    "having": "Оператор фильтрации групп в запросе. Применяется после группировки.",
    "union": "Оператор для объединения результатов нескольких запросов. Убирает дубликаты.",
    "all": "Модификатор union для сохранения всех строк. Дубликаты не удаляются.",
    "select": "Англоязычный аналог оператора ВЫБРАТЬ. Используется в запросах 1С.",
    "from": "Англоязычный аналог оператора ИЗ. Указывает источник данных.",
    "where": "Англоязычный аналог оператора ГДЕ. Фильтрует данные по условиям.",
    "group by": "Англоязычный аналог ГРУППИРОВАТЬ ПО. Группирует данные.",
    "order by": "Англоязычный аналог ПОРЯДОК. Сортирует результаты.",
    "in": "Англоязычный аналог В. Проверяет вхождение в список.",
    "as": "Англоязычный аналог КАК. Задаёт псевдонимы.",
    "true": "Логическое значение 'истина'. Используется в условиях.",
    "false": "Логическое значение 'ложь'. Применяется в фильтрах.",
    "and": "Логический оператор И. Соединяет условия в запросе.",
    "or": "Логический оператор ИЛИ. Объединяет условия.",
    "not": "Логический оператор НЕ. Инвертирует условие.",
    "like": "Оператор для поиска по шаблону. Сравнивает строки с образцом.",
    "between": "Оператор для проверки диапазона значений. Например, даты или числа.",
    "top": "Оператор для ограничения числа строк. Выбирает первые N записей.",
    "distinct": "Оператор для удаления дубликатов. Оставляет уникальные строки.",
    "join": "Оператор для соединения таблиц. Например, внутреннее или внешнее.",
    "inner": "Тип соединения, выбирающий только совпадающие строки. Используется с JOIN.",
    "outer": "Тип соединения, включающий все строки. Добавляет NULL, если совпадений нет.",
    "left": "Тип внешнего соединения. Включает все строки из левой таблицы.",
    "right": "Тип внешнего соединения. Включает все строки из правой таблицы.",
    "asc": "Сортировка по возрастанию. Используется в ORDER BY.",
    "desc": "Сортировка по убыванию. Применяется в ORDER BY.",
    "end": "Оператор завершения блока CASE. Закрывает условную конструкцию.",
    "else": "Оператор для указания значения по умолчанию в CASE. Используется, если условия не выполнены.",
    "substring": "Функция для извлечения части строки. Указываются начало и длина.",
    "hierarchy": "Оператор для работы с иерархическими данными. Применяется к справочникам.",

            "схема компоновки данных": "Объект, представляющий собой базу для формирования отчётов в 1С:Предприятие.",
            "настройки компоновки данных": "Совокупность элементов, определяющих этапы выполнения отчёта.",
            "макет компоновки данных": "Готовое описание отчёта для вывода данных.",
            "процессор компоновки данных": "Выполняет компоновку данных на основе схемы и настроек.",
            "виртуальные таблицы": "Используются в запросах для получения остатков и оборотов.",
            "регистр накопления": "Источник данных для отчётов, содержит остатки и обороты.",
            "параметры компоновки данных": "Значения, передаваемые в отчёт для фильтрации данных.",
            "группировка компоновки": "Элемент отчёта для объединения данных по группам.",
            "таблица компоновки": "Сложная структура отчёта с иерархией данных.",
            "источник данных": "Объект в схеме, из которого получаются данные для отчёта.",
            "наборы данных": "Коллекция данных в схеме компоновки для обработки.",
            "выборка данных": "Получение данных из набора для отчёта.",
            "case оператор": "Оператор выбора значения из нескольких условий.",
            "cast функция": "Преобразует тип выражения в указанный тип.",
            "eval функция": "Вычисляет выражение в контексте группы компоновки.",
            "regr_slope": "Вычисляет наклон линии регрессии: Ковариация(Y, X) / Дисперсия(X).",
            "regr_intercept": "Вычисляет Y-точку пересечения линии регрессии: Среднее(Y) - Наклон(Y, X) * Среднее(X).",
            "upper функция": "Преобразует строку в верхний регистр.",
            "корреляция функция": "Вычисляет коэффициент корреляции: Ковариация(Y, X) / (СтандартноеОтклонение(Y) * СтандартноеОтклонение(X)).",
            "классификация abc": "Выполняет ABC-классификацию записей в группе."
};

        document.getElementById("askButton").addEventListener("click", function() {
            let question = document.getElementById("question").value.toLowerCase().trim();
            if (question === "") {
                document.getElementById("answer").innerText = "Пожалуйста, введи вопрос!";
                return;
            }

            let words = question.split(/\s+/);
            let bestMatch = null;
            let maxMatches = 0;

            for (let key in knowledgeBase) {
                let keyWords = key.split(" ");
                let matches = keyWords.filter(kw => words.includes(kw)).length;
                if (matches > maxMatches) {
                    maxMatches = matches;
                    bestMatch = knowledgeBase[key];
                }
            }

            document.getElementById("answer").innerText = bestMatch || "Не знаю";
        });
    </script>
</body>
</html>
