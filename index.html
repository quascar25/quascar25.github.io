<!DOCTYPE html>
<html>
<head>
    <title>Grok_1С8.3</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
        }
        #question {
            width: 300px;
            padding: 10px;
        }
        #askButton {
            padding: 10px 20px;
            margin-left: 10px;
        }
        #answer {
            margin-top: 20px;
            font-size: 18px;
        }
    </style>
</head>
<body>
    <h1>Grok_1С8.3</h1>
    <input type="text" id="question" placeholder="Вопрос по 1С 8.3">
    <button id="askButton">Спросить</button>
    <div id="answer">Ответ появится здесь</div>

    <script>
        const knowledgeBase = {
            "схема компоновки данных": "Объект, представляющий собой базу для формирования отчётов в 1С:Предприятие.",
            "настройки компоновки данных": "Совокупность элементов, определяющих этапы выполнения отчёта.",
            "макет компоновки данных": "Готовое описание отчёта для вывода данных.",
            "процессор компоновки данных": "Выполняет компоновку данных на основе схемы и настроек.",
            "виртуальные таблицы": "Используются в запросах для получения остатков и оборотов.",
            "регистр накопления": "Источник данных для отчётов, содержит остатки и обороты.",
            "параметры компоновки данных": "Значения, передаваемые в отчёт для фильтрации данных.",
            "группировка компоновки": "Элемент отчёта для объединения данных по группам.",
            "таблица компоновки": "Сложная структура отчёта с иерархией данных.",
            "источник данных": "Объект в схеме, из которого получаются данные для отчёта.",
            "наборы данных": "Коллекция данных в схеме компоновки для обработки.",
            "выборка данных": "Получение данных из набора для отчёта.",
            "case оператор": "Оператор выбора значения из нескольких условий.",
            "cast функция": "Преобразует тип выражения в указанный тип.",
            "eval функция": "Вычисляет выражение в контексте группы компоновки.",
            "regr_slope": "Вычисляет наклон линии регрессии: Ковариация(Y, X) / Дисперсия(X).",
            "regr_intercept": "Вычисляет Y-точку пересечения линии регрессии: Среднее(Y) - Наклон(Y, X) * Среднее(X).",
            "upper функция": "Преобразует строку в верхний регистр.",
            "корреляция функция": "Вычисляет коэффициент корреляции: Ковариация(Y, X) / (СтандартноеОтклонение(Y) * СтандартноеОтклонение(X)).",
            "классификация abc": "Выполняет ABC-классификацию записей в группе."
        };

        document.getElementById("askButton").addEventListener("click", function() {
            let question = document.getElementById("question").value.toLowerCase().trim();
            if (question === "") {
                document.getElementById("answer").innerText = "Пожалуйста, введи вопрос!";
                return;
            }

            let words = question.split(/\s+/);
            let bestMatch = null;
            let maxMatches = 0;

            for (let key in knowledgeBase) {
                let keyWords = key.split(" ");
                let matches = keyWords.filter(kw => words.includes(kw)).length;
                if (matches > maxMatches) {
                    maxMatches = matches;
                    bestMatch = knowledgeBase[key];
                }
            }

            document.getElementById("answer").innerText = bestMatch || "Не знаю";
        });
    </script>
</body>
</html>
