<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cosmic Connections - –ó–Ω–∞–∫–æ–º—Å—Ç–≤–∞</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>
    <div class="starships">
        <div class="starship" id="starship1">‚éà</div>
        <div class="starship" id="starship2">‚éà</div>
        <div class="starship" id="starship3">‚éà</div>
    </div>

    <div class="container">
        <!-- –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
        <div class="profile-section">
            <div class="profile-header">
                <h1>üåå Cosmic Connections</h1>
                <div class="user-profile">
                    <div class="avatar-container">
                        <img id="userAvatar" src="" alt="–í–∞—à –∞–≤–∞—Ç–∞—Ä" class="avatar">
                        <input type="file" id="avatarUpload" accept="image/*" multiple style="display: none;">
                        <button onclick="document.getElementById('avatarUpload').click()" class="upload-btn">
                            üì∑ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ (–º–∞–∫—Å. 5)
                        </button>
                    </div>
                    <div class="photo-preview" id="photoPreview"></div>
                </div>
            </div>
        </div>

        <!-- –ß–∞—Ç -->
        <div class="chat-section">
            <div class="chat-header">
                <h2>üí´ –ì–∞–ª–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —á–∞—Ç</h2>
                <div class="online-count">üë• –û–Ω–ª–∞–π–Ω: <span id="onlineCount">1</span></div>
            </div>
            
            <div class="chat-messages" id="chatMessages">
                <div class="system-message">
                    üåü –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∫–æ—Å–º–∏—á–µ—Å–∫–∏–π —á–∞—Ç! –í—ã –≤–∏–¥–∏—Ç–µ –≤—Å–µ—Ö, –¥—Ä—É–≥–∏–µ –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ –≤–∞—Å.
                </div>
            </div>

            <div class="chat-input-container">
                <div class="emoji-picker">
                    <button onclick="toggleEmojiPicker()">üòä</button>
                    <div class="emoji-grid" id="emojiGrid">
                        <span onclick="addEmoji('üòä')">üòä</span>
                        <span onclick="addEmoji('üòÇ')">üòÇ</span>
                        <span onclick="addEmoji('‚ù§Ô∏è')">‚ù§Ô∏è</span>
                        <span onclick="addEmoji('üëç')">üëç</span>
                        <span onclick="addEmoji('üéâ')">üéâ</span>
                        <span onclick="addEmoji('üåü')">üåü</span>
                        <span onclick="addEmoji('üöÄ')">üöÄ</span>
                        <span onclick="addEmoji('üí´')">üí´</span>
                        <span onclick="addEmoji('üëã')">üëã</span>
                        <span onclick="addEmoji('üòç')">üòç</span>
                        <span onclick="addEmoji('üòé')">üòé</span>
                        <span onclick="addEmoji('ü§î')">ü§î</span>
                        <span onclick="addEmoji('üéà')">üéà</span>
                        <span onclick="addEmoji('üì∏')">üì∏</span>
                        <span onclick="addEmoji('üåô')">üåô</span>
                        <span onclick="addEmoji('‚òÄÔ∏è')">‚òÄÔ∏è</span>
                    </div>
                </div>
                <input type="text" id="messageInput" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." maxlength="500">
                <button onclick="sendMessage()" class="send-btn">üì§</button>
            </div>
        </div>

        <!-- –£—á–∞—Å—Ç–Ω–∏–∫–∏ —á–∞—Ç–∞ -->
        <div class="participants-section">
            <h3>üëΩ –£—á–∞—Å—Ç–Ω–∏–∫–∏ —á–∞—Ç–∞</h3>
            <div class="participants-list" id="participantsList">
                <div class="participant you">
                    <div class="participant-avatar">üë§</div>
                    <div class="participant-info">
                        <div class="participant-name">–í—ã</div>
                        <div class="participant-status online">online</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

   <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-storage-compat.js"></script>

<script>
    // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Firebase
    const firebaseConfig = {
        apiKey: "AIzaSyChVNJexhWHuV9KCv52VssFA1MvYaRulBk",
        authDomain: "jetchat-481ee.firebaseapp.com",
        databaseURL: "https://jetchat-481ee-default-rtdb.firebaseio.com",
        projectId: "jetchat-481ee",
        storageBucket: "jetchat-481ee.firebasestorage.app",
        messagingSenderId: "180249150993",
        appId: "1:180249150993:web:eaeb4ed6165f6f16fe53b0",
        measurementId: "G-75MCW0R6ED"
    };

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase
    const app = firebase.initializeApp(firebaseConfig);
    const database = firebase.database();
    const storage = firebase.storage();

    // –°—Å—ã–ª–∫–∏ –Ω–∞ —Ä–∞–∑–¥–µ–ª—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    const messagesRef = database.ref('messages');
    const usersRef = database.ref('users');

    class DatingChat {
        constructor() {
            this.userPhotos = [];
            this.participants = new Map();
            this.chatMessages = [];
            this.emojiPickerVisible = false;
            this.userId = 'user_' + Math.random().toString(36).substr(2, 9);
            this.userName = '–ê–Ω–æ–Ω–∏–º';
            this.userAvatarUrl = '';
            
            this.init();
        }

        init() {
            this.setupEventListeners();
            this.loadAllData();
            this.createStars();
            this.setupFirebaseListeners();
            this.simulateOtherUsers();
        }

        setupEventListeners() {
            // –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
            document.getElementById('avatarUpload').addEventListener('change', (e) => {
                this.handlePhotoUpload(e.target.files);
            });

            // –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ Enter
            document.getElementById('messageInput').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    this.sendMessage();
                }
            });

            document.addEventListener('click', (e) => {
                if (!e.target.closest('.emoji-picker')) {
                    this.hideEmojiPicker();
                }
            });
        }

        setupFirebaseListeners() {
            // –°–ª—É—à–∞–µ–º –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ Firebase
            messagesRef.limitToLast(50).on('value', (snapshot) => {
                const messages = snapshot.val();
                this.displayMessagesFromFirebase(messages);
            });
        }

        displayMessagesFromFirebase(messages) {
            const messagesContainer = document.getElementById('chatMessages');
            
            if (!messages) return;
            
            const messagesArray = Object.entries(messages).map(([key, value]) => ({
                id: key,
                ...value
            })).sort((a, b) => a.timestamp - b.timestamp);

            if (this.chatMessages.length === 0) {
                messagesContainer.innerHTML = '<div class="system-message">üåü –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∫–æ—Å–º–∏—á–µ—Å–∫–∏–π —á–∞—Ç! –°–æ–æ–±—â–µ–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.</div>';
            }

            messagesArray.forEach(msg => {
                if (!this.chatMessages.find(m => m.id === msg.id)) {
                    this.addMessageToUI(msg.senderName, msg.text, msg.senderId === this.userId ? 'user' : 'other');
                    this.chatMessages.push(msg);
                }
            });

            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();

            if (message) {
                const messageData = {
                    senderId: this.userId,
                    senderName: this.userName,
                    text: message,
                    timestamp: Date.now(),
                    avatarUrl: this.userAvatarUrl // –î–æ–±–∞–≤–ª—è–µ–º –∞–≤–∞—Ç–∞—Ä –∫ —Å–æ–æ–±—â–µ–Ω–∏—é
                };
                
                messagesRef.push(messageData)
                    .then(() => {
                        console.log('‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ Firebase!');
                        input.value = '';
                    })
                    .catch(error => {
                        console.error('‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏:', error);
                    });
            }
        }

        // –ù–û–í–ê–Ø –§–£–ù–ö–¶–ò–Ø: –°–∂–∞—Ç–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ 300x300
        compressImage(file) {
            return new Promise((resolve, reject) => {
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                const img = new Image();

                img.onload = () => {
                    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä 300x300
                    canvas.width = 300;
                    canvas.height = 300;

                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ –∏ —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ–º
                    const scale = Math.min(300 / img.width, 300 / img.height);
                    const width = img.width * scale;
                    const height = img.height * scale;
                    const x = (300 - width) / 2;
                    const y = (300 - height) / 2;

                    // –†–∏—Å—É–µ–º —Å–∂–∞—Ç–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –±–µ–ª—ã–º —Ñ–æ–Ω–æ–º
                    ctx.fillStyle = 'white';
                    ctx.fillRect(0, 0, 300, 300);
                    ctx.drawImage(img, x, y, width, height);

                    // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ Blob
                    canvas.toBlob(blob => {
                        resolve(new File([blob], 'avatar.jpg', {
                            type: 'image/jpeg',
                            lastModified: Date.now()
                        }));
                    }, 'image/jpeg', 0.8);
                };

                img.onerror = reject;
                img.src = URL.createObjectURL(file);
            });
        }

        // –û–ë–ù–û–í–õ–ï–ù–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ –≤ Firebase Storage
        async handlePhotoUpload(files) {
            if (files.length === 0) return;

            // –ë–µ—Ä–µ–º —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—É—é —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é
            const file = files[0];
            
            if (!file.type.startsWith('image/')) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ!');
                return;
            }

            try {
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
                const uploadBtn = document.querySelector('.upload-btn');
                uploadBtn.textContent = 'üì∑ –ó–∞–≥—Ä—É–∂–∞–µ–º...';
                uploadBtn.disabled = true;

                // –°–∂–∏–º–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                const compressedFile = await this.compressImage(file);
                
                // –°–æ–∑–¥–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è —Ñ–∞–π–ª–∞
                const fileName = `avatars/${this.userId}_${Date.now()}.jpg`;
                const storageRef = storage.ref().child(fileName);
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –≤ Firebase Storage
                const snapshot = await storageRef.put(compressedFile);
                console.log('‚úÖ –§–æ—Ç–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ –≤ Storage');
                
                // –ü–æ–ª—É—á–∞–µ–º URL –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
                const downloadURL = await snapshot.ref.getDownloadURL();
                console.log('üì∑ URL —Ñ–æ—Ç–æ:', downloadURL);
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º URL –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
                await usersRef.child(this.userId).set({
                    name: this.userName,
                    avatarUrl: downloadURL,
                    lastSeen: Date.now()
                });
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∞–≤–∞—Ç–∞—Ä –ª–æ–∫–∞–ª—å–Ω–æ
                this.userAvatarUrl = downloadURL;
                document.getElementById('userAvatar').src = downloadURL;
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
                this.userPhotos = [{
                    id: this.userId,
                    data: downloadURL,
                    timestamp: new Date().toISOString()
                }];
                this.updatePhotoPreview();
                this.saveUserData();
                
                alert('‚úÖ –§–æ—Ç–æ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ! –¢–µ–ø–µ—Ä—å –≤—Å–µ –≤–∏–¥—è—Ç –≤–∞—à –∞–≤–∞—Ç–∞—Ä.');
                
            } catch (error) {
                console.error('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ:', error);
                alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–æ—Ç–æ: ' + error.message);
            } finally {
                // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
                const uploadBtn = document.querySelector('.upload-btn');
                uploadBtn.textContent = 'üì∑ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ (1 —Ñ–æ—Ç–æ)';
                uploadBtn.disabled = false;
            }
        }

        updatePhotoPreview() {
            const preview = document.getElementById('photoPreview');
            preview.innerHTML = '';

            this.userPhotos.forEach((photo, index) => {
                const imgContainer = document.createElement('div');
                imgContainer.className = 'photo-item';
                imgContainer.innerHTML = `
                    <img src="${photo.data}" alt="–ê–≤–∞—Ç–∞—Ä" style="width: 80px; height: 80px; border-radius: 10px;">
                    <button class="delete-photo" onclick="window.datingChat.deletePhoto()">√ó</button>
                `;
                preview.appendChild(imgContainer);
            });

            if (this.userPhotos.length > 0) {
                document.getElementById('userAvatar').src = this.userPhotos[0].data;
            }
        }

        // –ù–û–í–ê–Ø –§–£–ù–ö–¶–ò–Ø: –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ
        async deletePhoto() {
            if (!confirm('–£–¥–∞–ª–∏—Ç—å –∞–≤–∞—Ç–∞—Ä?')) return;

            try {
                // –£–¥–∞–ª—è–µ–º –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
                await usersRef.child(this.userId).remove();
                
                // –£–¥–∞–ª—è–µ–º –∏–∑ Storage (–µ—Å–ª–∏ –µ—Å—Ç—å —Ñ–∞–π–ª)
                if (this.userAvatarUrl) {
                    // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –∏–∑ Storage –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
                }
                
                // –û—á–∏—â–∞–µ–º –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                this.userPhotos = [];
                this.userAvatarUrl = '';
                document.getElementById('userAvatar').src = '';
                this.updatePhotoPreview();
                this.saveUserData();
                
                console.log('‚úÖ –ê–≤–∞—Ç–∞—Ä —É–¥–∞–ª–µ–Ω');
                
            } catch (error) {
                console.error('‚ùå –û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è:', error);
            }
        }

        addMessageToUI(sender, text, type) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}`;

            const now = new Date();
            const timeString = now.toLocaleTimeString('ru-RU', { 
                hour: '2-digit', 
                minute: '2-digit' 
            });

            messageDiv.innerHTML = `
                <div class="message-header">${sender} ‚Ä¢ ${timeString}</div>
                <div class="message-text">${this.formatMessage(text)}</div>
            `;

            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
            
            messageDiv.classList.add('new-message');
            setTimeout(() => messageDiv.classList.remove('new-message'), 500);
        }

        formatMessage(text) {
            return text.replace(/\n/g, '<br>');
        }

        simulateOtherUsers() {
            const fakeUsers = [
                { name: '–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π —Å—Ç—Ä–∞–Ω–Ω–∏–∫', id: 'user1' },
                { name: '–õ—É–Ω–Ω–∞—è –ø—Ä–∏–Ω—Ü–µ—Å—Å–∞', id: 'user2' },
                { name: '–ó–≤–µ–∑–¥–Ω—ã–π –≤–æ–∏–Ω', id: 'user3' }
            ];

            fakeUsers.forEach(user => {
                this.participants.set(user.id, user);
                this.addParticipant(user.name, user.id);
            });

            document.getElementById('onlineCount').textContent = this.participants.size + 1;
        }

        addParticipant(name, id) {
            const participantsList = document.getElementById('participantsList');
            const participantDiv = document.createElement('div');
            participantDiv.className = 'participant';
            participantDiv.id = `participant-${id}`;

            participantDiv.innerHTML = `
                <div class="participant-avatar">${name.charAt(0)}</div>
                <div class="participant-info">
                    <div class="participant-name">${name}</div>
                    <div class="participant-status online">online</div>
                </div>
            `;

            participantsList.appendChild(participantDiv);
        }

        toggleEmojiPicker() {
            this.emojiPickerVisible = !this.emojiPickerVisible;
            const emojiGrid = document.getElementById('emojiGrid');
            
            if (this.emojiPickerVisible) {
                emojiGrid.classList.add('show');
            } else {
                emojiGrid.classList.remove('show');
            }
        }

        hideEmojiPicker() {
            this.emojiPickerVisible = false;
            document.getElementById('emojiGrid').classList.remove('show');
        }

        addEmoji(emoji) {
            const input = document.getElementById('messageInput');
            input.value += emoji;
            input.focus();
            this.hideEmojiPicker();
        }

        createStars() {
            this.createStarLayer('stars', 200, 3);
            this.createStarLayer('stars2', 100, 2);
            this.createStarLayer('stars3', 50, 1);
        }

        createStarLayer(layerId, count, size) {
            const layer = document.getElementById(layerId);
            for (let i = 0; i < count; i++) {
                const star = document.createElement('div');
                star.style.cssText = `
                    position: absolute;
                    width: ${size}px;
                    height: ${size}px;
                    background: white;
                    border-radius: 50%;
                    top: ${Math.random() * 100}%;
                    left: ${Math.random() * 100}%;
                    animation: twinkle ${2 + Math.random() * 3}s infinite;
                    animation-delay: ${Math.random() * 5}s;
                `;
                layer.appendChild(star);
            }
        }

        saveUserData() {
            const userData = {
                photos: this.userPhotos,
                avatarUrl: this.userAvatarUrl,
                userId: this.userId,
                lastUpdated: new Date().toISOString()
            };
            localStorage.setItem('cosmicDatingUserData', JSON.stringify(userData));
        }

        loadAllData() {
            this.loadUserData();
        }

        loadUserData() {
            try {
                const saved = localStorage.getItem('cosmicDatingUserData');
                if (saved) {
                    const userData = JSON.parse(saved);
                    this.userPhotos = userData.photos || [];
                    this.userAvatarUrl = userData.avatarUrl || '';
                    this.userId = userData.userId || this.userId;
                    
                    if (this.userAvatarUrl) {
                        document.getElementById('userAvatar').src = this.userAvatarUrl;
                    }
                    this.updatePhotoPreview();
                }
            } catch (error) {
                console.log('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', error);
            }
        }

        clearAllData() {
            if (confirm('–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ?')) {
                localStorage.removeItem('cosmicDatingUserData');
                location.reload();
            }
        }
    }

    // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
    function toggleEmojiPicker() {
        window.datingChat.toggleEmojiPicker();
    }

    function addEmoji(emoji) {
        window.datingChat.addEmoji(emoji);
    }

    function sendMessage() {
        window.datingChat.sendMessage();
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    document.addEventListener('DOMContentLoaded', () => {
        window.datingChat = new DatingChat();
        
        const clearBtn = document.createElement('button');
        clearBtn.textContent = 'üßπ –û—á–∏—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ';
        clearBtn.style.cssText = `
            position: fixed;
            bottom: 10px;
            right: 10px;
            background: rgba(255,0,0,0.3);
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            z-index: 1000;
            font-size: 12px;
        `;
        clearBtn.onclick = () => window.datingChat.clearAllData();
        document.body.appendChild(clearBtn);
    });
</script>
</body>
</html>
